"use strict";ÂµBlock.URI=function(){var a=/^([^:\/?#]+:)?(\/\/[^\/?#]*)?([^?#]*)(\?[^#]*)?(#.*)?/,b=/^[^:\/?#]+:/,c=/^(?:[^:\/?#]+:)?(\/\/[^\/?#]+)/,d=/^(?:[^:\/?#]+:)?(?:\/\/[^\/?#]+)/,e=/^https?:\/\/([0-9a-z_][0-9a-z._-]*[0-9a-z])\//,f=/^(?:[^:\/?#]+:)?(?:\/\/[^\/?#]*)?([^?#]*)/,g=/^(?:[^@]*@)?([0-9a-z._-]*)(:\d*)?$/i,h=/^(?:[^@]*@)?(\[[0-9a-f:]*\])(:\d*)?$/i,i=/^[0-9a-z._-]+[0-9a-z]$/i,j=/^(?:[^@]*@)?([0-9a-z._-]+)(?::\d*)?$/i,k=/^(?:[^@]*@)?(\[[0-9a-f:]+\])(?::\d*)?$/i,l=/^([a-z\d]+(-*[a-z\d]+)*)(\.[a-z\d]+(-*[a-z\d])*)*$/,m=/^\d+\.\d+\.\d+\.\d+$|^\[[\da-zA-Z:]+\]$/,n=function(a){return a.scheme="",a.hostname="",a._ipv4=void 0,a._ipv6=void 0,a.port="",a.path="",a.query="",a.fragment="",a},o=function(a){return a.hostname="",a._ipv4=void 0,a._ipv6=void 0,a.port="",a},p={scheme:"",authority:"",hostname:"",_ipv4:void 0,_ipv6:void 0,port:"",domain:void 0,path:"",query:"",fragment:"",schemeBit:1,userBit:2,passwordBit:4,hostnameBit:8,portBit:16,pathBit:32,queryBit:64,fragmentBit:128,allBits:65535};p.authorityBit=p.userBit|p.passwordBit|p.hostnameBit|p.portBit,p.normalizeBits=p.schemeBit|p.hostnameBit|p.pathBit|p.queryBit,p.set=function(b){if(void 0===b)return n(p);var c=a.exec(b);return c?(this.scheme=void 0!==c[1]?c[1].slice(0,-1):"",this.authority=void 0!==c[2]?c[2].slice(2).toLowerCase():"",this.path=void 0!==c[3]?c[3]:"",""!==this.authority&&""===this.path&&(this.path="/"),this.query=void 0!==c[4]?c[4].slice(1):"",this.fragment=void 0!==c[5]?c[5].slice(1):"",i.test(this.authority)?(this.hostname=this.authority,this.port="",this):(c=g.exec(this.authority),c||(c=h.exec(this.authority))?(this.hostname=void 0!==c[1]?c[1]:"",this.hostname.endsWith(".")&&(this.hostname=this.hostname.slice(0,-1)),this.port=void 0!==c[2]?c[2].slice(1):"",this):o(p))):n(p)},p.assemble=function(a){void 0===a&&(a=this.allBits);var b=[];return this.scheme&&a&this.schemeBit&&b.push(this.scheme,":"),this.hostname&&a&this.hostnameBit&&b.push("//",this.hostname),this.port&&a&this.portBit&&b.push(":",this.port),this.path&&a&this.pathBit&&b.push(this.path),this.query&&a&this.queryBit&&b.push("?",this.query),this.fragment&&a&this.fragmentBit&&b.push("#",this.fragment),b.join("")},p.originFromURI=function(a){var b=d.exec(a);return null!==b?b[0].toLowerCase():""},p.schemeFromURI=function(a){var c=b.exec(a);return c?c[0].slice(0,-1).toLowerCase():""},p.authorityFromURI=function(a){var b=c.exec(a);return b?b[1].slice(2).toLowerCase():""},p.hostnameFromURI=function(a){var b=e.exec(a);if(b)return b[1];if(b=c.exec(a),!b)return"";var d=b[1].slice(2);if(i.test(d))return d.toLowerCase();if(b=j.exec(d),!b&&(b=k.exec(d),!b))return"";for(var f=b[1];f.endsWith(".");)f=f.slice(0,-1);return f.toLowerCase()},p.domainFromHostname=function(a){var b=r[a];return void 0!==b?(b.tstamp=Date.now(),b.domain):m.test(a)===!1?z(a,q.getDomain(a)):z(a,a)},p.domain=function(){return this.domainFromHostname(this.hostname)};var q=publicSuffixList;p.pathFromURI=function(a){var b=f.exec(a);return null!==b?b[1]:""};var r=Object.create(null),s=0,t=35,u=50,v=u-t,w=function(a){this.init(a)};w.prototype.init=function(a){return this.domain=a,this.tstamp=Date.now(),this},w.prototype.dispose=function(){this.domain="",y.length<v&&y.push(this)};var x=function(a){var b=y.pop();return b?b.init(a):new w(a)},y=[],z=function(a,b){var c=r[a];return void 0!==c?c.tstamp=Date.now():(r[a]=x(b),s+=1,s===u&&B()),b},A=function(a,b){return r[b].tstamp-r[a].tstamp},B=function(){var a=Object.keys(r).sort(A).slice(t),b=a.length;s-=b;for(var c;b--;)c=a[b],r[c].dispose(),delete r[c]},C=function(){r=Object.create(null),s=0};return q.onChanged.addListener(C),p.domainFromURI=function(a){return a?this.domainFromHostname(this.hostnameFromURI(a)):""},p.isNetworkURI=function(a){return/^(?:ftps?|https?|wss?):\/\//.test(a)},p.isNetworkScheme=function(a){return/^(?:ftps?|https?|wss?)$/.test(a)},p.normalizedURI=function(){return this.assemble(this.normalizeBits)},p.rootURL=function(){return this.hostname?this.assemble(this.schemeBit|this.hostnameBit):""},p.isValidHostname=function(a){var b;try{b=l.test(a)}catch(c){return!1}return b},p.parentHostnameFromHostname=function(a){var b=this.domainFromHostname(a);return""===b||b===a?void 0:a.slice(a.indexOf(".")+1)},p.parentHostnamesFromHostname=function(a){var b=this.domainFromHostname(a);if(""===b||b===a)return[];for(var c,d=[];(c=a.indexOf("."),!(0>c))&&(a=a.slice(c+1),d.push(a),a!==b););return d},p.allHostnamesFromHostname=function(a){var b=this.parentHostnamesFromHostname(a);return b.unshift(a),b},p.toString=function(){return this.assemble()},p}();