µBlock.contextMenu=function(){"use strict";var a=µBlock,b=function(b,c){if(void 0!==c&&/^https?:\/\//.test(c.url)!==!1){var d=b.tagName||"",e=b.frameUrl||b.srcUrl||b.linkUrl||"";d||("string"==typeof b.frameUrl?d="iframe":"string"==typeof b.srcUrl?"image"===b.mediaType?d="img":"video"===b.mediaType?d="video":"audio"===b.mediaType&&(d="audio"):"string"==typeof b.linkUrl&&(d="a")),a.elementPickerExec(c.id,d+"	"+e)}},c=function(b,c){if(void 0!==c){var d=a.pageStoreFromTabId(c.id);null!==d&&d.temporarilyAllowLargeMediaElements()}},d=function(a,d){return"uBlock0-blockElement"===a.menuItemId?b(a,d):"uBlock0-temporarilyAllowLargeMediaElements"===a.menuItemId?c(a,d):void 0},e=[{id:"uBlock0-blockElement",title:vAPI.i18n("pickerContextMenuEntry"),contexts:["all"],documentUrlPatterns:["https://*/*","http://*/*"]},{id:"uBlock0-temporarilyAllowLargeMediaElements",title:vAPI.i18n("contextMenuTemporarilyAllowLargeMediaElements"),contexts:["all"],documentUrlPatterns:["https://*/*","http://*/*"]}],f=function(b){var c=0;if(a.userSettings.contextMenuEnabled&&null!==b){var f=a.pageStoreFromTabId(b);f&&(c|=1,0!==f.largeMediaCount&&(c|=2))}if(c!==g){g=c;var h=[];1&c&&h.push(e[0]),2&c&&h.push(e[1]),vAPI.contextMenu.setEntries(h,d)}},g=0;return vAPI.contextMenu.onMustUpdate=f,{update:function(b){return a.userSettings.contextMenuEnabled&&void 0===b?void vAPI.tabs.get(null,function(a){a&&f(a.id)}):void f(b)}}}();