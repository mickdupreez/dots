"use strict";µBlock.staticFilteringReverseLookup=function(){var a=null,b=66e4,c=null,d=!0,e=1,f=Object.create(null),g=function(a){var b=a.data,c=f[b.id];delete f[b.id],c(b.response)},h=function(){c=null,null!==a&&(a.terminate(),a=null,d=!0,f=Object.create(null))},i=function(b){if(null===a&&(a=new Worker("js/reverselookup-worker.js"),a.onmessage=g),d===!1)return void b();d=!1;var c,e,f=Object.create(null),h=0,i=function(c){var d=f[c.assetKey];a.postMessage({what:"setList",details:{assetKey:c.assetKey,title:d.title||c.assetKey,supportURL:d.supportURL,content:c.content}}),h-=1,0===h&&b()},j=µBlock;for(c in j.availableFilterLists)j.availableFilterLists.hasOwnProperty(c)!==!1&&(e=j.availableFilterLists[c],e.off!==!0&&(f[c]={title:c!==j.userFiltersPath?e.title:vAPI.i18n("1pPageName"),supportURL:e.supportURL||""},h+=1));if(0===h)return void b();for(c in f)j.getCompiledFilterList(c,i)},j=function(d,g,j){if("function"==typeof j){if(""===d||""===g)return void j();null!==c&&(clearTimeout(c),c=null);var k=function(){var i=e++,k={what:"fromNetFilter",id:i,compiledFilter:d,rawFilter:g};f[i]=j,a.postMessage(k),c=vAPI.setTimeout(h,b)};i(k)}},k=function(d,g,j){if("function"==typeof j){if(""===g)return void j();null!==c&&(clearTimeout(c),c=null);var k=function(){var i=e++,k={what:"fromCosmeticFilter",id:i,domain:µBlock.URI.domainFromHostname(d),hostname:d,rawFilter:g};f[i]=j,a.postMessage(k),c=vAPI.setTimeout(h,b)};i(k)}},l=function(){d=!0,null!==a&&a.postMessage({what:"resetLists"})};return{fromNetFilter:j,fromCosmeticFilter:k,resetLists:l,shutdown:h}}();