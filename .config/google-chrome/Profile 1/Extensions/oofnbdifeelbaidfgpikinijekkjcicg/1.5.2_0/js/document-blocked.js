!function(){"use strict";var a=vAPI.messaging,b={};!function(){var a=/details=([^&]+)/.exec(window.location.search);null!==a&&(b=JSON.parse(atob(a[1])))}(),function(){var c=function(a){if("object"==typeof a){var b;for(var c in a)if(a.hasOwnProperty(c)!==!1){b=a[c];break}if(Array.isArray(b)!==!1&&0!==b.length){for(var d,e,f,g=uDom.nodeFromSelector("#whyex > span:nth-of-type(2)"),h="",i=0;i<b.length;i++)d=b[i],""!==h&&g.appendChild(document.createTextNode(h)),e=d.supportURL,"string"==typeof e&&""!==e?(f=document.createElement("a"),f.textContent=d.title,f.setAttribute("href",e),f.setAttribute("target","_blank")):f=document.createTextNode(d.title),g.appendChild(f),h=" â€¢ ";uDom.nodeFromId("whyex").style.removeProperty("display")}}};a.send("documentBlocked",{what:"listsFromNetFilter",compiledFilter:b.fc,rawFilter:b.fs},c)}();var c=function(){var a=b.hn,c=document.querySelector("#proceed select");return null!==c&&(a=c.value),a},d=function(){window.location.replace(b.url)},e=function(){a.send("documentBlocked",{what:"temporarilyWhitelistDocument",hostname:c()},d)},f=function(){a.send("documentBlocked",{what:"toggleHostnameSwitch",name:"no-strict-blocking",hostname:c(),deep:!0,state:!0},d)};!function(){var a=/^(.*)\{\{hostname\}\}(.*)$/.exec(vAPI.i18n("docblockedProceed"));if(null!==a){var c=uDom("#proceedTemplate").clone();c.descendants("span:nth-of-type(1)").text(a[1]),c.descendants("span:nth-of-type(4)").text(a[2]),b.hn===b.dn?(c.descendants("span:nth-of-type(2)").remove(),c.descendants(".hn").text(b.hn)):(c.descendants("span:nth-of-type(3)").remove(),c.descendants(".hn").text(b.hn).attr("value",b.hn),c.descendants(".dn").text(b.dn).attr("value",b.dn)),uDom("#proceed").append(c)}}(),uDom.nodeFromSelector("#theURL > p").textContent=b.url,uDom.nodeFromId("why").textContent=b.fs,function(){if("function"==typeof URL){var a=/^https?:\/\//,c=function(b,c){""===c&&(c=b,b="");var d=document.createElement("li"),e=document.createElement("span");if(e.textContent=b,d.appendChild(e),""!==b&&""!==c&&d.appendChild(document.createTextNode(" = ")),e=document.createElement("span"),a.test(c)){var f=document.createElement("a");f.href=f.textContent=c,e.appendChild(f)}else e.textContent=c;return d.appendChild(e),d},d=function(a){try{a=decodeURIComponent(a)}catch(b){}return a},e=function(b,f){var g=document.createElement("a");if(g.href=f,0===g.search.length)return!1;var h=f.indexOf("?"),i=c(vAPI.i18n("docblockedNoParamsPrompt"),f.slice(0,h));b.appendChild(i);for(var j,k,l,m,n=g.search.slice(1).split("&"),o=0;o<n.length;o++)j=n[o],h=j.indexOf("="),-1===h&&(h=j.length),k=d(j.slice(0,h)),l=d(j.slice(h+1)),i=c(k,l),a.test(l)&&(m=document.createElement("ul"),e(m,l),i.appendChild(m)),b.appendChild(i);return!0};if(e(uDom.nodeFromId("parsed"),b.url)!==!1){var f=document.createElement("span");f.className="fa",uDom("#theURL > p").append(f),uDom(f).on("click",function(){var a=uDom.nodeFromId("theURL").classList;a.toggle("collapsed"),vAPI.localStorage.setItem("document-blocked-expand-url",(a.contains("collapsed")===!1).toString())}),uDom.nodeFromId("theURL").classList.toggle("collapsed","true"!==vAPI.localStorage.getItem("document-blocked-expand-url"))}}}(),window.history.length>1?(uDom("#back").on("click",function(){window.history.back()}),uDom("#bye").css("display","none")):(uDom("#bye").on("click",function(){window.close()}),uDom("#back").css("display","none")),uDom("#proceedTemporary").attr("href",b.url).on("click",e),uDom("#proceedPermanent").attr("href",b.url).on("click",f)}();